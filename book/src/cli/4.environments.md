# Environments

The Teams CLI provides tools for managing environment variables and configurations across different deployment environments. This page explains how to use the `env` command to manage your application's environments.

## Environment Overview

When developing Teams applications, you often need to manage different sets of environment variables for different deployment environments (e.g., development, testing, production). The Teams CLI's `env` command helps you:

- Create and manage multiple environments
- Switch between environments
- Set and manage environment variables
- Export environment variables for use in your application

## Environment Files

The Teams CLI stores environment variables in `.env` files in your project directory. Each environment has its own file, named according to the environment:

- `.env.local` - Local development environment
- `.env.dev` - Development environment
- `.env.test` - Testing environment
- `.env.prod` - Production environment

You can also create custom environment files with any name you choose.

## Managing Environments

### Listing Environments

To see all available environments in your project:

```sh
teams env list
```

This will display a list of all environments, with the currently selected environment marked.

Example output:

```
Available environments:
  local
  dev
* prod (current)
  test
```

### Selecting an Environment

To switch to a different environment:

```sh
teams env select <environment-name>
```

For example, to switch to the development environment:

```sh
teams env select dev
```

This will set the specified environment as the active environment for your application.

## Managing Environment Variables

### Setting Environment Variables

To set an environment variable in the current environment:

```sh
teams env set <key> <value>
```

For example:

```sh
teams env set CLIENT_ID "your-client-id"
```

You can also set multiple variables at once:

```sh
teams env set CLIENT_ID "your-client-id" CLIENT_SECRET "your-client-secret"
```

### Removing Environment Variables

To remove an environment variable from the current environment:

```sh
teams env del <key>
```

For example:

```sh
teams env del CLIENT_ID
```

### Exporting Environment Variables

To export all environment variables from the current environment:

```sh
teams env export
```

This will display all environment variables in a format that can be used in scripts or copied to other environments.

Example output:

```
CLIENT_ID=your-client-id
CLIENT_SECRET=your-client-secret
PORT=3978
NODE_ENV=production
```

## Environment Variable Best Practices

### Sensitive Information

Never commit sensitive information like API keys, client secrets, or passwords to your source code repository. Instead:

1. Use environment variables to store sensitive information
2. Add `.env*` files to your `.gitignore` file
3. Provide a `.env.example` file with placeholder values as a template

### Environment-Specific Configuration

Use different environments for different stages of your application lifecycle:

- **Local**: For local development and testing
- **Dev**: For shared development environments
- **Test**: For testing and QA
- **Prod**: For production deployment

### Variable Naming Conventions

Follow these conventions for environment variable names:

- Use UPPERCASE_WITH_UNDERSCORES
- Use descriptive names that indicate the purpose of the variable
- Group related variables with common prefixes (e.g., `OPENAI_API_KEY`, `OPENAI_MODEL`)

## Using Environment Variables in Your Application

### In Node.js

You can access environment variables in your Node.js application using `process.env`:

```typescript
const clientId = process.env.CLIENT_ID;
const clientSecret = process.env.CLIENT_SECRET;

console.log(`Using client ID: ${clientId}`);
```

### With dotenv

The Teams CLI automatically integrates with the [dotenv](https://www.npmjs.com/package/dotenv) package. In your application, you can load the current environment variables:

```typescript
import dotenv from 'dotenv';

// Load environment variables from the current environment
dotenv.config();

// Or load from a specific environment
dotenv.config({ path: '.env.dev' });
```

## Environment Templates

You can create environment templates to share common configuration patterns without sharing sensitive information:

1. Create a template file (e.g., `.env.template`)
2. Include all required variables with placeholder values
3. Document each variable's purpose with comments
4. Share the template with your team

Example template:

```
# API Configuration
CLIENT_ID=your-client-id-here
CLIENT_SECRET=your-client-secret-here

# Server Configuration
PORT=3978
NODE_ENV=development

# Feature Flags
ENABLE_STREAMING=true
ENABLE_LOGGING=true
```

## Next Steps

- [Configure your application](./5.configuration.md)
- [See common usage examples](./6.examples.md)
- [Learn about Teams Toolkit integration](../7.devtools/README.md)
